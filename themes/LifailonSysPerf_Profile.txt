function Set-EnvVar {
    $env:CPU_USE = "$([string]$(Get-CimInstance Win32_PerfFormattedData_PerfOS_Processor | Where-Object Name -eq "_Total").PercentProcessorTime)%"
    $Memory = Get-CimInstance Win32_OperatingSystem
    $MemUse = $Memory.TotalVisibleMemorySize - $Memory.FreePhysicalMemory
    $env:MEM_USE = "$([int](($MemUse / $Memory.TotalVisibleMemorySize) * 100)) %"
    $env:NET_Up = $($(Get-CimInstance -ClassName Win32_PerfFormattedData_Tcpip_NetworkInterface).BytesSentPersec/1mb).ToString("0.000 Mbyte/s")
    $env:NET_Down = $($(Get-CimInstance -ClassName Win32_PerfFormattedData_Tcpip_NetworkInterface).BytesReceivedPersec/1mb).ToString("0.000 Mbyte/s")
}
New-Alias -Name "Set-PoshContext" -Value "Set-EnvVar" -Scope Global -Force
oh-my-posh init pwsh --config 'https://raw.githubusercontent.com/Lifailon/oh-my-posh-themes/rsa/themes/LifailonSysPerf.omp.json' | Invoke-Expression
